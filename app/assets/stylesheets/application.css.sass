@import compass/reset
@import compass
@import chosen
@import facebox
@import icomoon
@import 960/grid
@import url('http://fonts.googleapis.com/css?family=Londrina+Solid')
@import url('http://fonts.googleapis.com/css?family=Open+Sans:400,600,700')


$green: #7DC241
$blue: #3399CB
$pink: #df499a
$orange: #ef803b
$gray: #333
$header: #2BB1E3
$fb_blue: #3B5998
$mr_green: #059146

$grid-system: 16
$ninesixty-columns: $grid-system
$grid-half: $grid-system * 0.5

@mixin grid-padded
  +grid($grid-system)


// Main layout style
body
  font: normal 1em/28px "Open Sans", "Lucida Sans Unicode", "Lucida Sans" 
  color: $gray
  background: image-url('bg.png')
  margin: 0
  padding: 0
  width: 100%

section.header
  margin: 2em 0
section.login
  line-height: 40px
  +box-shadow(0 -1px 6px darken(gray, 20%))

a[href="/auth/facebook"], a[href="/auth/meurio"]
  text-transform: uppercase
  font-family: 'Londrina Solid', cursive
  letter-spacing: 1px
  color: white !important
  padding: 4px 15px
  +border-radius(5px)

a[href="/auth/meurio"]
  background: $mr_green

a[href="/auth/facebook"]
  background: $fb_blue

@mixin btn($color1, $color2)
  color: white
  border: 1px solid $color1
  font: normal 1.2em "Folk-solid"
  letter-spacing: 2px
  text-transform: uppercase
  padding: 4px 10px 10px 10px
  position: relative
  top: 4px
  cursor: pointer
  +border-radius(10px)
  +background-image(linear-gradient(lighten($color1, 10%) 50%, $color1 50%))
  +box-shadow(lighten(gray, 20%) 0 1px 1px)
  &:hover
    border: 1px solid $color2
    +background-image(linear-gradient(lighten($color2, 10%) 50%, $color2 50%))


section.login
  font-size: .8em
  padding: .2em 0 
  background: white
  overflow: hidden
  .row
    overflow: visible
  .meurio
    text-transform: uppercase
  a.mr, a.fb
    font-size: small
    margin: 0 5px
  a.fb
    margin-right: 0
  a:hover
    opacity: .8
  .meurio
    font-size: .7em
    float: left
    img
      float: left
      margin-right: .4em
      height: auto !important 
  .user
    float: right
    line-height: 20px
    margin-top: 10px
    position: relative
    img
      margin-right: 1em
      width: 25px
      height: 25px
      float: left 
    .icon-triangle
      display: inline
      margin-left: 1em
      padding: 1em .7em 1em 1em
      color: gray
      &:before
        font-size: 1.5em
      &:hover
        background: lighten(gray, 20%)
        color: white
        .options
          display: block
      .options
        width: 180px
        right: 0
        top: 25px
        display: none
        position: absolute
        background: white
        padding: 1em
        z-index: 1000
        line-height: normal
        border: 1px solid lighten(gray, 20%)
        li
          margin-bottom: .5em
          &:last-child
            margin: 0
        a
          color: gray
          display: block

strong
  font-weight: bold

h1
  font-family: "Folk-solid", Arial, Tahoma
  font-size: 3.5em
  line-height: 64px
  text-transform: uppercase
  color: $header
  text-shadow: 0 -1px 1px #666
h2
  font-size: 1.9em
h3
  font-size: 1.4em
h4
  font-size: 0.9em
h5
  font-size: 0.6em
h6
  font-size: 0.4em

a, a:active, a:visited
  color: $blue
  text-decoration: none

input[type=text]
  border: 1px solid #dedede
  padding: 10px 15px
  +box-shadow(inset 1px 1px 2px #999)
  font-size: 14px

input[type=submit],button[type=button], .btn
  +btn($orange, $pink)
  margin: 10px

input[disabled]
  +btn(#999, #999)
  color: #666!important

.wrapper
  +grid-container

.message
  width: 68%
  margin-left: 15%
  margin-right: 15%
  padding: 10px 20px
  position: fixed
  border: 1px solid #fff
  border-top: none
  color: white
  opacity: .9
  +border-radius(0 0 6px 6px)
  +box-shadow(1px 1px 2px #333)
.alert
  background: red
.notice
  background: $green

// Footer is repeated in the splash and the application layouts.
footer
  position: fixed
  width: 100%
  bottom: 0
  background: url(asset_path('bg.png', 'image'))
  border-top: 3px dashed $green
  padding-top: 10px
  padding-bottom: 10px
  margin-top: 2px
  text-shadow: 1px 1px 1px white

  nav.links
    +grid(8)
    a
      color: $gray
      text-transform: uppercase
      &:hover
        color: $gray
        border-bottom: 1px solid $gray
    span
      margin: 0 10px
  .questionary
    +grid(4)
    margin-bottom: 10px
    span
      background: $green
      color: white
      float: right
      line-height: 100%
      padding: 5px
      margin-top: 4px
      cursor: pointer
      +border-radius(5px)
      +box-shadow(3px 3px 0px $blue)
      +opacity(0.8)
      &:hover
        +opacity(1)

  .participate
    +grid(8)
    text-align: right


body[data-controller-name="Questions"][data-action="Index"]
  .show-form
    float: none


h1
  font-size: 2.3em
  letter-spacing: 3px
  line-height: 40px
h2
  font-size: 1.1em
img
  +border-radius(6px)

.hidden
  display: none

.clearfix
  +clearfix

.overlay
  background: white
  padding: 10px 0
  border: 2px solid #666
  margin-left: 20px
  padding: 20px
  position: fixed
  z-index: 9999

  +border-radius(8px)
  +box-shadow(0px 1px 4px #666)


.login_options
  padding: 20px
  text-align: center
  +clearfix
  nav
    margin: 20px auto
    width: 340px
  .facebook
    background: url(asset_path('icons/facebook_x128.png', 'image')) no-repeat
  .meurio
    background: url(asset_path('icons/meurio_x128.png', 'image')) no-repeat
    margin-left: 80px
  .option
    text-indent: -9999px
    display: block
    float: left
    width: 130px
    height: 130px
    +border-radius(14px)
    +box-shadow(0 1px 6px #666)
    &:active
      position: relative
      top: 2px
      background: lighten($green, 10%)
    &:hover
      +box-shadow(0px 1px 12px $green)


// Due to order of precedence, the !important shit is necessary :/
.error
  border: 1px solid red !important
  +box-shadow(1px 1px 6px red)
label.error
  color: red
  font-size: .7em
  border: none !important
  +box-shadow(none)
.header
  header
    +grid($grid-system)
    padding: 10px
    text-shadow: 1px 1px 1px white
    font-weight: bold
    font-size: .9em
    line-height: 52px
    img
      float: left
    span
      text-transform: uppercase
      width: 100px
      float: left
    .login
      float: right
      font-weight: bold
      img
        display: inline
        margin-top: 11px
        margin-right: 10px
      span
        margin: 0 10px
        float: none
        width: auto

a[href="/auth/meurio"]
  color: darken($green, 10%)
  &:hover
    text-decoration: none
    color: darken($green, 5%)
    border-bottom: none

a[href="/auth/facebook"]
  color: $fb_blue
  &:hover
    text-decoration: none
    color: lighten($fb_blue, 5%)
    border-bottom: none

a[data-method="delete"]
  color: darken($green, 10%)
  &:hover
    text-decoration: none
    color: darken($green, 5%)
    border-bottom: none

section.info, section.questions
  +grid($grid-system)
  +box-shadow(1px 1px 4px #333)
  +border-radius(6px)
  background: white
  margin-bottom: 40px
  padding: 10px


section.show
  a.btn
    font-size: 1.6em
    color: white
    padding: 10px
    margin: 20px auto
    width: 300px
    text-align: center
    display: block
  p.description
    font-size: 1.2em
    padding: 6px
  span.truth
    color: $green
  span.dare
    color: $orange
  .questions_list
    +box-shadow(none)
  .question
    width: 75%
    padding: 25px 10px
    background: #eef1ec
    +border-radius(8px)
    +box-shadow(inset 0 3px 3px lighten($gray, 65%))
    img
      float: left
      padding: 8px 8px 5px 0
      +border-radius(8px)

section.show, section.questions
  h1, h2, h3, h4
    font-family: "Londrina Solid"

section.questions
  background: $blue
  header
    h1,h2,h3,h4
      color: white
  .filter_box
    h4
      padding: 10px 0 10px 17px
  header
    +grid($grid-system)
    +clearfix
    text-align: center
    h1
      margin-top: 30px
    h3
      font-family: "Akagi-Book"
      font-size: 16px
      font-weight: bold
      text-shadow: 0 1px 2px #333
      text-transform: uppercase
      margin-top: 10px
      color: rgb(172, 215, 234)
    img
      margin: 10px 0
      +box-shadow(inset 1px 1px 4px #333)
    .btn
      display: inline-block
      color: white
      margin: 20px 0

section.truth, section.dare
  +grid($grid-half)
  .share
    text-align: center
    a.twitter_btn, a.fb_btn
      padding-top: 128px
      width: 128px
      height: 0
      display: inline-block
      overflow: hidden
      +scale(.9)
      +transition-duration(.3s)
      &:hover
        +scale(1)
        border: none
    a.twitter_btn
      background: url(asset_path('icons/twitter_x128.png', 'image'))
    a.fb_btn
      background: url(asset_path('icons/facebook_x128.png', 'image'))
    h2
      border: none

.form, .questions_list, .show
  +border-radius(6px)
  +box-shadow(4px 4px 0 #00639D)
  background: white
  margin-bottom: 20px
  fieldset
    display: block
    padding: 15px
    h4.placeholder
      font-family: "Akagi-Book"
      font-size: 1em
      text-transform: none
      margin-bottom: 1px
    textarea
      border: 1px solid #f9f9f9
      padding: 10px
      width: 95%
      height: 60px
      resize: none
      font-size: 14px
      font-style: italic
      outline: none
      margin: 20px 0 0 0
      +box-shadow(inset 0 1px 6px #666)
      +border-radius(6px)
      &:focus
        border: 1px solid lighten($green, 0.2)
    // The select plugin (Chosen)
    .select
      width: 425px
    .chzn-container
      width: 100%
      margin: 15px 0 0 0
    button[type=button], input[type=submit]
      float: right
      margin-right: 0
    .reset
      background: none
      border: none
      color: $blue
      text-decoration: underline
      margin: 20px 0
      &:hover
        cursor: pointer
        text-decoration: none
h2
  font-size: 40px
  //background: #e1eef2
  border-bottom: 1px solid #aeaeae
  padding: 25px 15px
  text-transform: uppercase
  text-shadow: 1px -1px 1px #fff
  +border-radius(6px 6px 0 0)
h4
  font-size: 20px
  text-transform: uppercase

section.truth
  +alpha
  h2, h4
    color: $green
  h2
section.dare
  +omega
  h2, h4
    color: $orange


h2.truth
  color: $green
  background: url(asset_path('bg_truth_form.png', 'image')) no-repeat right top
h2.dare
  color: $orange
  background: url(asset_path('bg_dare_form.png', 'image')) no-repeat right top

.questions_list
  padding: 15px
  h3
    color: gray
    margin-bottom: 20px
    text-transform: uppercase
  li.user_question
    padding: 15px 6px
    border-top: 1px dashed #bebebe
    +clearfix
    small
      display: none
    .admin_options
      margin-right: 1em
    .destroy
      a
        color: red
    &:hover
      small
        display: block
        color: lighten($gray, 30%)
      .share_options
        opacity: 1
    &:last-child
      border-bottom: none
    .question
      margin-bottom: 10px
      +clearfix
      img
        float: left
        margin-right: 10px
      p
        line-height: 1.4em
        margin-bottom: 10px
      p.text
        float: left
        width: 70%
        font-size: .9em
        a, &:hover
          color: black
      p.headline
        font-size: .8em
    .buttons
      +clearfix

  li.truth
    +transition(0.20s)
    &:hover
      background: lighten($green, 45%)
    p.text
      span
        color: $green
  li.dare
    +transition(0.20s)
    &:hover
      background: lighten($orange, 40%)
    p.text
      span
        color: $orange

form[action="/questions"]
  label
    display: none


div.vote
  width: 13%
  height: 70px
  float: right
  span.votes
    background: $blue
    color: white
    text-align: center
    display: block
    padding: 2px
    font-family: "Londrina Solid"
    font-size: 1.2em
    +border-radius(350px 350px 350px 1px)
  form
    display: inline-block
    margin: 0
    padding: 0
  input
    background: none
    font-family: "Arial"
    font-size: 0.7em
    color: $blue
    border: none
    text-align: center
    text-indent: none
    text-transform: lowercase
    +box-shadow(none)
    margin: 0
    width: 100%
    background: lighten($blue, 45%)
    border: 1px solid lighten($blue, 10%)
    padding: 8px
    +border-radius(4px)
    &:hover
      background: lighten($blue, 30%)
      border: 1px solid lighten($blue, 10%)
  input[disabled]
    background: lighten($gray, 75%)
    border: 1px solid lighten($gray, 60%)
    color: #dedede !important
    text-shadow: 0 0 0.5px $gray
    &:hover
      cursor: default

section.edit
  h2
    margin-bottom: 20px
  span
    padding-top: 20px
    font-weight: 400
    &:after
      content: "..."
  textarea
    +border-radius(6px)
    +box-shadow(inset 0 0 4px lighten($gray, 50%))
    background: lighten($gray, 75%)
    border: 1px solid lighten($gray, 65%)
    padding: 10px
    width: 98%
    height: 100px
    margin-bottom: 10px
    font-size: 18px
.show
  +clearfix
  .share
    float: right
    .vote
      width: 90%
      float: none
      +clearfix
      input
        padding: 5px 8px 5px 8px
    .option
      float: left
      display: block
      width: 60px



.share_options
  border: 1px solid #dedede
  font-size: 0.8em
  +clearfix
  +border-radius(6px)
  opacity: 0.3
  li
    a
      display: block
    float: right
    &.twitter, &.facebook
      width: 24px
      height: 24px
      background: url(asset_path('share_sprite.png', 'image')) no-repeat 1px 0
      font-size: 1.1em
      border-left: 1px solid #dedede
      text-indent: 9999px
      &:hover
        cursor: pointer
        background-position: 1px -33px
    &.facebook
      background-position: -25px 0
      &:hover
        background-position: -25px -33px

.preview
  .category
    margin: 5px 0

  .description
    font-family: "Akagi-Book-Italic"
    line-height: 1.6em
    background: #ededed
    padding: 20px 15px
    margin: 10px 0 15px 0
    +border-radius(10px)
    +box-shadow(inset 0px 1px 3px #cecece)

    &:after, &:before
      content: '"'

    span.truth
      color: $green
    span.dare
      color: $orange

.filter_box
  +border-radius(6px)
  +box-shadow( 4px 5px 0px #003366)
  background-color: #00639d
  margin-bottom: 20px

  .chzn-container.chzn-container-single
    margin: 15px

#facebox
  .popup
    width: 820px
  .close
    padding: 0
    line-height: 0
  .about_politician
    width: 800px
    line-height: normal
    padding: 10px
    h1
      margin-bottom: 1em
    p, h2
      margin-bottom: .5em
    hr
      margin: 2em 0
    h2
      font-size: medium
      padding: 0
      border: none
      font-weight: bold
    .left, .right
      float: left
      width: 380px
      .box
        margin-bottom: 1.5em
        &:last-child
          margin: 0
    .left
      margin-right: 20px
    .right
      margin-left: 20px

body.candidates
  &#index
    section.content .wrapper
      background: white
      +border-radius(4px)
      +box-shadow(1px 1px 4px darken(gray, 15%))
    .padd
      padding: .6em
      margin-bottom: 1em
